{% set posts = __SELF__.posts %}

<div class="container">
    <div class="row">
        {% for post in posts %}
        <div class="col-lg-4">
            <div class="card">
                <div class="card-header">
                    <div class="media">
                        <img src="{{ post.user.avatar }}" alt="{{ post.user.name }}">
                        <div class="media-body">
                            <h6 class="card-text">{{ post.user.name }}</h6>
                            <time class="card-subtitle">{{ post.published_at.format('F jS, Y g:i A') }}</time>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <p class="card-text">{{ post.message }}</p>
                </div>
                {% if post.image %}
                <img class="card-img-top" src="{{ post.image }}" alt=""/>
                {% endif %}
                <!-- TODO: Add post counters -->
                <div class="card-footer"></div>
            </div>
        </div>
        {% else %}
        <div class="col-12">
            <p class="text-muted">{{ __SELF__.noPostsMessage }}</p>
        </div>
        {% endfor %}
    </div>
</div>
